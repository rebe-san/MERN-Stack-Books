{"ast":null,"code":"import _defineProperty from\"/home/rebe_laboratoria/mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/rebe_laboratoria/mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rebe_laboratoria/mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/rebe_laboratoria/mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/rebe_laboratoria/mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/rebe_laboratoria/mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/rebe_laboratoria/mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import\"../App.css\";import axios from\"axios\";import\"./CreateBook.css\";// CREATE-enviar-POST\n//Create Book Component-class component\nvar CreateBook=/*#__PURE__*/function(_Component){_inherits(CreateBook,_Component);//constructor\nfunction CreateBook(){var _this;_classCallCheck(this,CreateBook);_this=_possibleConstructorReturn(this,_getPrototypeOf(CreateBook).call(this));//state\n_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();var book={title:_this.state.title,isbn:_this.state.isbn,author:_this.state.author,description:_this.state.description,published_date:_this.state.published_date,publisher:_this.state.publisher};// axios.post method to send an HTTP POST request to the back-end endpoint http://localhost:4000/api/books.\n//  This endpoint is expecting to get the new book object in JSON format in the request body.\n// Therefore we need to pass in the book object as a second argument.\naxios.post(\"http://localhost:4000/api/books\",book).then(function(res){_this.setState({title:\"\",isbn:\"\",author:\"\",description:\"\",published_date:\"\",publisher:\"\"});_this.props.history.push(\"/\");}).catch(function(err){console.log(\"Error in CreateBook!\");});console.log(\"Form submitted:\");// console.log(`${book}`)\nconsole.log(\"title: \".concat(book.title));console.log(\"title: \".concat(book.isbn));console.log(\"title: \".concat(book.author));console.log(\"title: \".concat(book.description));console.log(\"title: \".concat(book.published_date));console.log(\"title: \".concat(book.publisher));};_this.state={title:\"\",isbn:\"\",author:\"\",description:\"\",published_date:\"\",publisher:\"\"};//  This is necessary to make 'this' work in the callback\n_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}//Events Handlers - Class Methods\n_createClass(CreateBook,[{key:\"render\",//render method\nvalue:function render(){return React.createElement(\"section\",{className:\"CreateBook\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-8 m-auto\"},React.createElement(Link,{to:\"/\",className:\"btn btn-show-books float-left m-3\"},\"Mostrar la lista de libros\")),React.createElement(\"div\",{className:\"col-md-8 m-auto\"},React.createElement(\"h1\",{className:\"display-4 text-center m-2\"},\"A\\xD1ADIR UN LIBRO\"),React.createElement(\"form\",{noValidate:true,onSubmit:this.handleSubmit,className:\"m-3\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"text\",placeholder:\"Titulo del libro\",name:\"title\",className:\"form-control\",value:this.state.title,onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"text\",placeholder:\"ISBN\",name:\"isbn\",className:\"form-control\",value:this.state.isbn,onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"text\",placeholder:\"Autor\",name:\"author\",className:\"form-control\",value:this.state.author,onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"text\",placeholder:\"Descripci\\xF3n\",name:\"description\",className:\"form-control\",value:this.state.description,onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"date\",placeholder:\"Fecha de publicaci\\xF3n\",name:\"published_date\",className:\"form-control\",value:this.state.published_date,onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"text\",placeholder:\"Editorial\",name:\"publisher\",className:\"form-control\",value:this.state.publisher,onChange:this.handleChange})),React.createElement(\"input\",{type:\"submit\",className:\"btn btn-submit btn-block mt-4\"}))))));}}]);return CreateBook;}(Component);export default CreateBook;","map":{"version":3,"sources":["/home/rebe_laboratoria/mern/frontend/src/components/CreateBook.js"],"names":["React","Component","Link","axios","CreateBook","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","book","title","state","isbn","author","description","published_date","publisher","post","then","res","props","history","push","catch","err","console","log","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../App.css\";\nimport axios from \"axios\";\nimport \"./CreateBook.css\";\n// CREATE-enviar-POST\n//Create Book Component-class component\nclass CreateBook extends Component {\n  //constructor\n  constructor() {\n    super();\n    //state\n    this.state = {\n      title: \"\",\n      isbn: \"\",\n      author: \"\",\n      description: \"\",\n      published_date: \"\",\n      publisher: \"\"\n    };\n    //  This is necessary to make 'this' work in the callback\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  //Events Handlers - Class Methods\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const book = {\n      title: this.state.title,\n      isbn: this.state.isbn,\n      author: this.state.author,\n      description: this.state.description,\n      published_date: this.state.published_date,\n      publisher: this.state.publisher\n    };\n    // axios.post method to send an HTTP POST request to the back-end endpoint http://localhost:4000/api/books.\n    //  This endpoint is expecting to get the new book object in JSON format in the request body.\n    // Therefore we need to pass in the book object as a second argument.\n    axios\n      .post(\"http://localhost:4000/api/books\", book)\n      .then(res => {\n        this.setState({\n          title: \"\",\n          isbn: \"\",\n          author: \"\",\n          description: \"\",\n          published_date: \"\",\n          publisher: \"\"\n        });\n        this.props.history.push(\"/\");\n      })\n      .catch(err => {\n        console.log(\"Error in CreateBook!\");\n      });\n    console.log(`Form submitted:`);\n    // console.log(`${book}`)\n    console.log(`title: ${book.title}`);\n    console.log(`title: ${book.isbn}`);\n    console.log(`title: ${book.author}`);\n    console.log(`title: ${book.description}`);\n    console.log(`title: ${book.published_date}`);\n    console.log(`title: ${book.publisher}`);\n  };\n  //render method\n  render() {\n    return (\n      <section className=\"CreateBook\">\n        <div className=\"container\">\n          <div className=\"row\">\n            {/* Link to Books List */}\n            <div className=\"col-md-8 m-auto\">\n              <Link to=\"/\" className=\"btn btn-show-books float-left m-3\">\n                Mostrar la lista de libros\n              </Link>\n            </div>\n            {/* Form Container */}\n            <div className=\"col-md-8 m-auto\">\n              <h1 className=\"display-4 text-center m-2\">AÑADIR UN LIBRO</h1>\n              {/* Form */}\n              <form noValidate onSubmit={this.handleSubmit} className=\"m-3\">\n                {/* title field */}\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Titulo del libro\"\n                    name=\"title\"\n                    className=\"form-control\"\n                    value={this.state.title}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {/* isbn field */}\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"ISBN\"\n                    name=\"isbn\"\n                    className=\"form-control\"\n                    value={this.state.isbn}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {/* author field */}\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Autor\"\n                    name=\"author\"\n                    className=\"form-control\"\n                    value={this.state.author}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {/* description field */}\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Descripción\"\n                    name=\"description\"\n                    className=\"form-control\"\n                    value={this.state.description}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {/* published_date field */}\n                <div className=\"form-group\">\n                  <input\n                    type=\"date\"\n                    placeholder=\"Fecha de publicación\"\n                    name=\"published_date\"\n                    className=\"form-control\"\n                    value={this.state.published_date}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {/* publisher field */}\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Editorial\"\n                    name=\"publisher\"\n                    className=\"form-control\"\n                    value={this.state.publisher}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {/* button submit */}\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-submit btn-block mt-4\"\n                />\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\nexport default CreateBook;\n"]},"metadata":{},"sourceType":"module"}